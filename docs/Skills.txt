# Skills System Design

## Goals vs Skills Comparison

### Goals
- Temporary and completable
- Example: "Learn React Basics" or "Complete CS50 Course"
- Once done, they're archived
- Binary state: incomplete -> complete

### Skills
- Permanent and continuously improvable
- Example: "Programming" or "Public Speaking"
- Never "complete", only levels of mastery
- Progressive state: Level 1 -> 2 -> 3 etc.

## Technical Implementation

### Core Types
```typescript
interface Skill {
  id: string;
  name: string;
  category: SkillCategory;
  level: number;          // Current level (1-100)
  currentXP: number;      // Current experience points
  nextLevelXP: number;    // XP needed for next level
  lastActivity: Date;     // Track skill decay
}

enum SkillCategory {
  TECHNICAL = 'technical',
  PHYSICAL = 'physical',
  SOCIAL = 'social',
  CREATIVE = 'creative',
  LIFE_MANAGEMENT = 'life_management'
}
```

## Skill Categories and Progression Examples

### 1. Technical Skills
```
Programming
â”œâ”€â”€ Level 1 (0-100 XP): Basic syntax
â”œâ”€â”€ Level 2 (101-250 XP): Simple programs
â”œâ”€â”€ Level 3 (251-500 XP): Complex applications
â””â”€â”€ Level 4+ : Advanced concepts
```

### 2. Social Skills
```
Public Speaking
â”œâ”€â”€ Level 1: Small group presentations
â”œâ”€â”€ Level 2: Department meetings
â”œâ”€â”€ Level 3: Company-wide talks
â””â”€â”€ Level 4+: Conference speaking
```

### 3. Life Management
```
Time Management
â”œâ”€â”€ Level 1: Basic scheduling
â”œâ”€â”€ Level 2: Priority management
â”œâ”€â”€ Level 3: Strategic planning
â””â”€â”€ Level 4+: Advanced optimization
```

## XP Generation System

### 1. Direct Task Completion
```typescript
// When completing a task tagged with a skill
task = {
  id: "123",
  title: "Build a React Component",
  skills: [{
    skillId: "programming",
    xpValue: 25
  }]
}
```

### 2. Sequence Completion
```typescript
sequence = {
  id: "456",
  title: "Complete Frontend Course",
  skills: [{
    skillId: "programming",
    xpValue: 100
  }]
}
```

### 3. Goal Achievement
```typescript
goal = {
  id: "789",
  title: "Launch Personal Website",
  skills: [{
    skillId: "programming",
    xpValue: 250
  }, {
    skillId: "design",
    xpValue: 150
  }]
}
```

## Skill Progression Example

```
Programming Skill Progress
------------------------
Level 1 (0-100 XP)
  âœ“ Complete "Hello World" (+10 XP)
  âœ“ Build Simple Calculator (+25 XP)
  âœ“ Create Basic Website (+50 XP)
  â†’ Level Up! (85/100 XP)

Level 2 (101-250 XP)
  âœ“ Build React App (+75 XP)
  â–º Working on API Integration (+0/50 XP)
  â€¢ Deploy to Production (Not Started)
```

## Benefits Over Goals System

### 1. Continuous Progress
- Goals end, but skills keep growing
- More motivating long-term tracking

### 2. Skill Trees
```
Web Development
â”œâ”€â”€ HTML/CSS (Level 3)
â”œâ”€â”€ JavaScript (Level 2)
â””â”€â”€ React (Level 1)
```

### 3. Mastery Levels
- Clear progression path
- Visual representation of expertise
- Gamification elements (levels, XP)

### 4. Skill Synergies
```typescript
// Tasks can contribute to multiple skills
task = {
  title: "Give Tech Talk",
  skills: [
    { id: "programming", xp: 50 },
    { id: "public_speaking", xp: 75 }
  ]
}
```

## Integration Points

1. Tasks can contribute to both goals and skills
2. Sequences can build skill progression
3. Metrics can track skill development over time
4. Skills provide permanent progression alongside temporary goals
5. Skills can have dependencies (prerequisites)
6. Skills can decay if not practiced

## Database Schema

```sql
-- Skills table
create table skills (
  id uuid primary key,
  name text,
  category text,
  current_level int,
  xp_current int,
  xp_required int
);

-- Skill contributions from various sources
create table skill_contributions (
  id uuid primary key,
  skill_id uuid references skills(id),
  source_type text, -- 'task', 'sequence', 'goal'
  source_id uuid,
  contribution_value int
);
```

## Original Insight (User Prompt)
Let's talk about this in more detail, for example, learn react basics, sure I can learn it, but will I remember it, will I be able to use the knowledge I learned to build something? With the skill aspect, there is far more to it than just going through the material.

I need to test and verify, and show some creativity, with a capstone project of some sort, or maybe lots and lots of little projects. The real test of learning is do I develop the actual skill. Most skills the basics are straightforward, it's the execution that matters, do I use the knowledge, or do I only use a fraction of what I learned?

## Four Stages of Competence

1. **Unconscious Incompetence** ("Unaware I suck")
   - Don't know what you don't know
   - May overestimate abilities
   - Example: "React is just HTML with extra steps"
   - XP Range: 0-50

2. **Conscious Incompetence** ("Aware I suck")
   - Recognize the depth of the skill
   - Aware of your limitations
   - Example: "Oh wow, I need to learn state management, routing, hooks..."
   - XP Range: 51-200

3. **Conscious Competence** ("Getting better, with effort")
   - Can perform well with focus
   - Need to think through steps
   - Example: "I can build this feature, let me think about the steps..."
   - XP Range: 201-500

4. **Unconscious Competence** ("Mastery")
   - Skills become second nature
   - Can innovate and teach others
   - Example: "Let me show you a few different ways to solve this..."
   - XP Range: 501+

## Expanded Skill Development Understanding

### Levels of Skill Development

1. **Knowledge Acquisition** (Basic XP)
```
"Learn React Basics" Course
â”œâ”€â”€ Watch tutorials (+5 XP)
â”œâ”€â”€ Read documentation (+5 XP)
â””â”€â”€ Follow along with examples (+10 XP)
```
*But this alone doesn't make you skilled!*

2. **Practice & Application** (Medium XP)
```
Small Projects & Exercises
â”œâ”€â”€ Build Todo App from scratch (+25 XP)
â”œâ”€â”€ Modify existing projects (+15 XP)
â”œâ”€â”€ Debug common issues (+20 XP)
â””â”€â”€ Implement specific features (+30 XP)
```

3. **Creative Application** (High XP)
```
Original Projects
â”œâ”€â”€ Design own solutions (+50 XP)
â”œâ”€â”€ Solve real problems (+75 XP)
â””â”€â”€ Build without tutorials (+100 XP)
```

4. **Mastery Indicators** (Bonus XP)
```
Skill Depth
â”œâ”€â”€ Explain to others (+40 XP)
â”œâ”€â”€ Handle edge cases (+50 XP)
â”œâ”€â”€ Optimize performance (+60 XP)
â””â”€â”€ Innovate new patterns (+100 XP)
```

### Skill Verification System

```typescript
interface SkillVerification {
  type: 'knowledge' | 'practice' | 'creation' | 'mastery';
  requirements: {
    projects: number;      // Number of projects completed
    complexity: number;    // 1-5 scale
    originality: number;   // How much was self-created vs followed
    timeSpent: number;     // Active development time
  };
  evidence: {
    repository?: string;   // Code/project links
    demonstration?: string; // Live demo/presentation
    feedback?: string[];   // From peers/mentors
  };
}
```

### Example: React Skill Development

```
Level 1: KNOWLEDGE (0-100 XP)
â”œâ”€â”€ Complete basic tutorial (+10 XP)
â”œâ”€â”€ Understand core concepts (+15 XP)
â””â”€â”€ Pass concept quiz (+25 XP)

Level 2: PRACTICE (101-250 XP)
â”œâ”€â”€ Build 3 tutorial projects (+30 XP each)
â”œâ”€â”€ Modify existing apps (+20 XP each)
â””â”€â”€ Debug 5 common issues (+10 XP each)

Level 3: APPLICATION (251-500 XP)
â”œâ”€â”€ Build original project (+100 XP)
â”œâ”€â”€ Implement complex features (+50 XP)
â””â”€â”€ Handle state management (+75 XP)

Level 4: CREATION (501-1000 XP)
â”œâ”€â”€ Design system architecture (+150 XP)
â”œâ”€â”€ Build production app (+200 XP)
â””â”€â”€ Optimize performance (+150 XP)

Level 5: MASTERY (1001+ XP)
â”œâ”€â”€ Mentor others (+100 XP)
â”œâ”€â”€ Create reusable patterns (+150 XP)
â””â”€â”€ Innovate solutions (+200 XP)
```

### Skill Usage Tracking

```typescript
interface SkillUsage {
  skillId: string;
  lastUsed: Date;
  frequency: {
    last7Days: number;
    last30Days: number;
    last90Days: number;
  };
  depth: {
    basicUsage: number;    // Simple applications
    advancedUsage: number; // Complex implementations
    teaching: number;      // Explaining to others
    innovation: number;    // Creating new patterns
  };
}
```

### Skill Decay System

```typescript
interface SkillDecay {
  decayRate: number;      // How fast skill deteriorates
  thresholds: {
    warning: number;      // Days before decay warning
    minor: number;        // Days before minor decay
    major: number;        // Days before major decay
  };
  recoveryRate: number;   // How fast skill recovers with practice
}
```

### Key Insights
- Real skill development isn't just about checking boxes
- Active application is crucial
- Creative problem-solving demonstrates understanding
- Regular practice prevents decay
- Teaching others deepens understanding
- Building without tutorials shows mastery
- Maintaining and growing skills requires consistent effort
- Each stage of competence requires different learning approaches
- Progress isn't linear - breakthroughs happen with deep engagement 

## The Theory-Practice Gap and Bloom's Taxonomy

### Beyond Memorization: The Path to True Expertise

Traditional education often focuses heavily on the lower levels of learning:
- Memorizing procedures
- Understanding concepts
- Following established patterns

But true skill mastery requires progression through all levels of Bloom's Taxonomy:

```
Bloom's Taxonomy in Skill Development
â”‚
â”œâ”€â”€ 6. CREATING (Mastery Level)
â”‚   â”œâ”€â”€ Design novel solutions
â”‚   â”œâ”€â”€ Innovate new approaches
â”‚   â””â”€â”€ Synthesize across domains
â”‚
â”œâ”€â”€ 5. EVALUATING (Expert Level)
â”‚   â”œâ”€â”€ Assess solution efficiency
â”‚   â”œâ”€â”€ Critique different approaches
â”‚   â””â”€â”€ Justify strategic decisions
â”‚
â”œâ”€â”€ 4. ANALYZING (Advanced Level)
â”‚   â”œâ”€â”€ Break down complex problems
â”‚   â”œâ”€â”€ Compare different solutions
â”‚   â””â”€â”€ Diagnose root causes
â”‚
â”œâ”€â”€ 3. APPLYING (Intermediate Level)
â”‚   â”œâ”€â”€ Use knowledge in new situations
â”‚   â”œâ”€â”€ Implement solutions
â”‚   â””â”€â”€ Demonstrate procedures
â”‚
â”œâ”€â”€ 2. UNDERSTANDING (Basic Level)
â”‚   â”œâ”€â”€ Explain concepts
â”‚   â”œâ”€â”€ Describe processes
â”‚   â””â”€â”€ Summarize information
â”‚
â””â”€â”€ 1. REMEMBERING (Novice Level)
    â”œâ”€â”€ Recall facts
    â”œâ”€â”€ Memorize procedures
    â””â”€â”€ List steps
```

### The "Book Knowledge" vs "Street Smarts" Gap

Example: Network Engineering
```
Book-Taught Engineer
â”œâ”€â”€ Follows standard procedures
â”œâ”€â”€ Needs to consult documentation
â”œâ”€â”€ Takes methodical, longer approach
â””â”€â”€ May miss contextual shortcuts

Experienced Engineer
â”œâ”€â”€ Pattern recognition from past cases
â”œâ”€â”€ Intuitive problem-solving
â”œâ”€â”€ Efficient, minimal-time solutions
â”œâ”€â”€ Understands business impact
â””â”€â”€ Effective communication skills
```

### Skill Development Principles

1. **Experience Acceleration**
   - Learn from real-world scenarios
   - Build pattern recognition
   - Develop intuitive understanding
   - Practice under various conditions

2. **Contextual Learning**
   - Understand when to break "rules"
   - Recognize situational priorities
   - Balance theory with practicality
   - Consider business/user impact

3. **Efficiency Through Experience**
   - Develop shortcuts and heuristics
   - Know common failure points
   - Anticipate problems before they occur
   - Quick assessment of situation severity

4. **Holistic Skill Integration**
   ```
   Technical Expertise
   â”œâ”€â”€ Core knowledge
   â”œâ”€â”€ Practical experience
   â”œâ”€â”€ Problem-solving patterns
   â””â”€â”€ Efficiency shortcuts
         â”‚
         â”œâ”€â”€ Soft Skills
         â”‚   â”œâ”€â”€ Communication
         â”‚   â”œâ”€â”€ Stakeholder management
         â”‚   â””â”€â”€ Team collaboration
         â”‚
         â””â”€â”€ Business Context
             â”œâ”€â”€ Impact assessment
             â”œâ”€â”€ Risk management
             â””â”€â”€ Resource optimization
   ```

### Measuring True Skill Mastery

Beyond traditional metrics, true skill mastery should measure:
1. Speed of problem resolution
2. Accuracy of initial assessment
3. Efficiency of solution
4. Communication effectiveness
5. Business impact understanding
6. Adaptability to new situations
7. Pattern recognition ability
8. Teaching/mentoring capability

This comprehensive approach ensures we're not just creating "book smart" practitioners, but developing true experts who can:
- Solve problems efficiently
- Communicate effectively
- Understand broader impact
- Adapt to new situations
- Share knowledge with others
- Make strategic decisions
- Innovate when needed 

## AI-Driven Skill Development

### Skill Gap Analysis
```
AI Assessment Components
â”œâ”€â”€ Knowledge Testing
â”‚   â”œâ”€â”€ Conceptual understanding
â”‚   â”œâ”€â”€ Theoretical foundations
â”‚   â””â”€â”€ Core principles
â”‚
â”œâ”€â”€ Practical Evaluation
â”‚   â”œâ”€â”€ Code review analysis
â”‚   â”œâ”€â”€ Project complexity assessment
â”‚   â”œâ”€â”€ Problem-solving patterns
â”‚   â””â”€â”€ Implementation efficiency
â”‚
â”œâ”€â”€ Behavioral Analysis
â”‚   â”œâ”€â”€ Learning patterns
â”‚   â”œâ”€â”€ Problem-solving approaches
â”‚   â”œâ”€â”€ Documentation habits
â”‚   â””â”€â”€ Collaboration style
â”‚
â””â”€â”€ Progress Tracking
    â”œâ”€â”€ Skill progression rate
    â”œâ”€â”€ Practice consistency
    â”œâ”€â”€ Challenge completion
    â””â”€â”€ Knowledge retention
```

### Dynamic Skill Trees
```
Skill Tree Generation
â”œâ”€â”€ Prerequisites Mapping
â”‚   â”œâ”€â”€ Required foundational skills
â”‚   â”œâ”€â”€ Dependency relationships
â”‚   â””â”€â”€ Optimal learning order
â”‚
â”œâ”€â”€ Personalized Pathways
â”‚   â”œâ”€â”€ Current skill level assessment
â”‚   â”œâ”€â”€ Learning style adaptation
â”‚   â”œâ”€â”€ Pace optimization
â”‚   â””â”€â”€ Interest-based branching
â”‚
â”œâ”€â”€ Gap Detection
â”‚   â”œâ”€â”€ Missing fundamentals
â”‚   â”œâ”€â”€ Weak areas identification
â”‚   â”œâ”€â”€ Practice recommendations
â”‚   â””â”€â”€ Remedial exercises
â”‚
â””â”€â”€ Progress Optimization
    â”œâ”€â”€ Learning rate analysis
    â”œâ”€â”€ Difficulty adjustment
    â”œâ”€â”€ Challenge calibration
    â””â”€â”€ Milestone tracking
```

### AI-Powered Learning Recommendations

```typescript
interface SkillAssessment {
  userId: string;
  skillId: string;
  gaps: {
    fundamental: {
      topic: string;
      severity: 'critical' | 'moderate' | 'minor';
      suggestedTasks: Task[];
    }[];
    practical: {
      area: string;
      missingExperience: string;
      recommendedProjects: Project[];
    }[];
    advanced: {
      concept: string;
      currentLevel: number;
      nextSteps: LearningPath[];
    }[];
  };
  learningStyle: {
    preferredMethod: 'visual' | 'practical' | 'theoretical' | 'collaborative';
    pacePreference: 'accelerated' | 'moderate' | 'thorough';
    strengthAreas: string[];
    challengeAreas: string[];
  };
}

interface LearningRecommendation {
  priority: number;
  type: 'project' | 'exercise' | 'study' | 'practice';
  description: string;
  expectedOutcome: string;
  timeEstimate: string;
  prerequisites: string[];
  reinforcesSkills: string[];
  challengeLevel: number;
}
```

### Example: AI-Guided Web Development Path

```
Current Assessment: Intermediate React Developer
â”‚
â”œâ”€â”€ Identified Gaps
â”‚   â”œâ”€â”€ State Management Fundamentals
â”‚   â”‚   â””â”€â”€ Recommended: Redux core concepts review
â”‚   â”œâ”€â”€ Performance Optimization
â”‚   â”‚   â””â”€â”€ Task: Implement memo and useMemo
â”‚   â””â”€â”€ Testing Practices
â”‚       â””â”€â”€ Project: Add test coverage to existing app
â”‚
â”œâ”€â”€ Strength Areas
â”‚   â”œâ”€â”€ Component Architecture
â”‚   â”œâ”€â”€ Hook Implementation
â”‚   â””â”€â”€ UI Design
â”‚
â”œâ”€â”€ Next Growth Areas
â”‚   â”œâ”€â”€ Advanced State Patterns
â”‚   â”œâ”€â”€ Micro-Frontend Architecture
â”‚   â””â”€â”€ Performance Monitoring
â”‚
â””â”€â”€ Personalized Learning Path
    â”œâ”€â”€ Week 1: Redux Fundamentals
    â”œâ”€â”€ Week 2: Testing Workshop
    â”œâ”€â”€ Week 3: Performance Project
    â””â”€â”€ Week 4: Architecture Review
```

### AI Intervention Points

1. **Skill Assessment**
   - Regular evaluation of code quality
   - Analysis of problem-solving approaches
   - Identification of knowledge gaps
   - Learning pattern recognition

2. **Adaptive Learning**
   - Dynamic difficulty adjustment
   - Custom exercise generation
   - Personalized project suggestions
   - Real-time feedback loops

3. **Progress Monitoring**
   ```
   Monitoring Metrics
   â”œâ”€â”€ Completion Rates
   â”‚   â”œâ”€â”€ Tasks finished
   â”‚   â”œâ”€â”€ Time per task
   â”‚   â””â”€â”€ Success rate
   â”‚
   â”œâ”€â”€ Quality Indicators
   â”‚   â”œâ”€â”€ Code complexity
   â”‚   â”œâ”€â”€ Best practices adherence
   â”‚   â””â”€â”€ Performance metrics
   â”‚
   â””â”€â”€ Growth Markers
       â”œâ”€â”€ Skill level progression
       â”œâ”€â”€ Knowledge retention
       â””â”€â”€ Application ability
   ```

4. **Intervention Strategies**
   - Just-in-time learning resources
   - Targeted practice exercises
   - Prerequisite reinforcement
   - Challenge level adjustment

### AI Feedback Loop

```
Continuous Improvement Cycle
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Skill Assessment   â”‚
â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Gap Analysis      â”‚
â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Custom Learning Pathâ”‚
â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Practice & Apply   â”‚
â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Progress Evaluation â”‚
â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â””â”€â”€â”€â”€â”€> Repeat
``` 



# Guardian Angel â€“ Skill Development & Progression System

## 0Â Â Purpose & Scope

Design a **comprehensive, productionâ€‘ready skill development subsystem** for the Guardian Angel productivity app. The subsystem must:
1.Â Model any human skill as a hierarchical tree of subâ€‘skills and techniques.
2.Â Track practice sessions granularly, surface actionable analytics, and trigger reminders based on decay curves.
3.Â Provide **two synced visual layers**:

* a dynamic **Mindâ€‘Map / Process Flow** view (freeâ€‘form graph), and
* a **Formal Tree / Fileâ€‘Explorer** view (structural drillâ€‘down).
  4.Â Offer rich dashboards, gamified feedback, and export / API access for thirdâ€‘party tools.

---

## 1Â Â Definitions & Terminology

| Term                   | Meaning                                                                                     |
| ---------------------- | ------------------------------------------------------------------------------------------- |
| **Skill NodeÂ (ğŸ¯)**    | Abstract competence (e.g. â€œPublic Speakingâ€). Holds *levels, XP, mastery state*.            |
| **Technique NodeÂ (âš¡)** | Concrete method / drill (e.g. "Box Breathing"). Tracks *steps, success rate.*               |
| **Task NodeÂ (ğŸ”¨)**     | Executable action with timer (e.g. "Practice Elevator Pitch 5Â Ã—"). Stores *duration, reps*. |
| **Process NodeÂ (ğŸ”„)**  | Logical bundle of tasks (e.g. Morning Routine).                                             |
| **Note NodeÂ (ğŸ“‹)**     | Markdown doc linked anywhere.                                                               |
| **Composite Skill**    | Node representing combination of â‰¥2 skills or techniques.                                   |
| **Mastery**            | Skill level â‰¥Â custom threshold AND recency <Â decay limit.                                   |
| **Decay Curve**        | Function declining effective level after inactivity.Â Defaults to spacedâ€‘repetition SMâ€‘2.    |

---

## 2Â Â Functional Requirements

### 2.1Â Skill & Technique Data Model (Backend)

| Field                              | Skill | Technique |
| ---------------------------------- | ----- | --------- |
| id (UUID)                          | âœ”     | âœ”         |
| name                               | âœ”     | âœ”         |
| description                        | âœ”     | âœ”         |
| parent\_id                         | âœ”     | â€“         |
| dependency\_ids (array)            | âœ”     | â€“         |
| level (0â€‘10)                       | âœ”     | â€“         |
| xp (float)                         | âœ”     | â€“         |
| mastery\_threshold (lvl +Â metrics) | âœ”     | â€“         |
| last\_practiced\_at                | âœ”     | âœ”         |
| practice\_totals (int)             | âœ”     | âœ”         |
| avg\_per\_session                  | âœ”     | âœ”         |
| effectiveness\_pct                 | â€“     | âœ”         |
| ordered\_steps (json)              | â€“     | âœ”         |
| tags (string\[])                   | âœ”     | âœ”         |
| created\_at / updated\_at          | âœ”     | âœ”         |

*Persist to PostgreSQL via Prisma ORM; emit domain events (`skill.practiced`, `skill.mastered`).*

### 2.2Â Practice Session Engine

* **Start Session**Â â†’ user selects node(s) â†’ engine loads timer / step list.
* **Tracking Modes**:Â countâ€‘reps, countâ€‘time, checklist, quiz.
* **Autoâ€‘Logging**: store `duration`, `reps`, `success_rate`, note.
* **XP Award** =Â Æ’(difficulty, reps, quality).
* **Decay Job** (hourly worker) lowers `effective_level` per node using SMâ€‘2.

### 2.3Â Composite Logic

* Node type `composite` has `dependency_ids` order.
* Level =Â min(level(deps)) until mastered; XP = Î£weighted.
* Practice on composite splits XP across deps unless "focus mode".

### 2.4Â Visualization Layer

#### A. Mindâ€‘Map (existing)

* Nodes carry new badges (`lvl`, `XP`, `ğŸŸ¢mastered`).
* Dragâ€‘drop links create dependencies.

#### B. Formal Tree Explorer

* Vue/React sideâ€‘panel; virtualised list forÂ >5k nodes.
* Context menu: **Add Subskill**, **Convert to Composite**, **Move**.
* Breadcrumb stack:Â `RootÂ / CommunicationÂ / PublicÂ Speaking / Storytelling`.

#### C. Dashboards

* **Skill Detail** card: sparkline of practice frequency, radar chart of subskills.
* **Heatmap** view: calendar grid Ã Â la GitHub commits.
* **Progress Report**: PDF/CSV export, weekly email summary.

### 2.5Â Notifications & Scheduling

| Trigger                    | Action                                                   |
| -------------------------- | -------------------------------------------------------- |
| `effective_level` <Â target | Push â€œTime to review *Skill X* â€“ 6Â days since last rep.â€ |
| New mastery                | ConfettiÂ + avatar upgrade.                               |
| Technique success â†“ 20â€¯%   | Suggest related drill.                                   |

### 2.6Â Gamification

* **XP Curve:** exponentialÂ `next_lvl_xp = base * growth^(lvl-1)` (defaultsÂ 100Â·1.35^(lvlâ€‘1)).
* **Streaks** tracked per skill and globally.
* **Avatar cosmetics** unlock on total XP or mastery milestones.

### 2.7Â Import / Export / API

* JSON & CSV import (Anki deck, etc.).
* REST & WebSocket endpoints:

  * `GET /skills`, `POST /practice-session`, `PATCH /skill/{id}`.
* OAuth 2.0 bearer auth; rateâ€‘limited.

---

## 3Â Â Integration & Sync

1. **Scanner** runs on demand or when graph changes:

   * Find nodes tagged `skill_node` â†’ build adjacency list.
   * Resolve cycles â†’ warn & offer fixes.
   * Persist ordered tree; emit `tree.updated`.
2. **Twoâ€‘Way Editing**: edits in Explorer update graph instantly; drag in graph updates tree via event bus.
3. **Conflict Handling**: lastâ€‘writerâ€‘wins with audit log; expose diff UI.

---

## 4Â Â Nonâ€‘Functional Requirements

| Category          | Requirement                                                         |
| ----------------- | ------------------------------------------------------------------- |
| **Performance**   | <50Â ms DB read on skill detail; bulk scan <2â€¯s for 10k nodes.       |
| **Scalability**   | Horizontal pod autoscale; stateless API; use Redis for hot metrics. |
| **Availability**  | 99.5â€¯% monthly (Free tier); 99.9â€¯% for Pro.                         |
| **Security**      | JWT auth; encrypted at rest; OWASPÂ Topâ€‘10 mitigations.              |
| **Accessibility** | WCAGÂ 2.2 AA; keyboardâ€‘only nav; highâ€‘contrast theme.                |
| **Localization**  | i18n strings; RTL layout support.                                   |

---

## 5Â Â System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    REST/WS    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  API Gateway â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
        â–²  Event Bus (NATS)        â”‚
        â”‚                          â–¼
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   writes  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ Practice   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  Postgres DB   â”‚
 â”‚ Engine     â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â–²                       â–²
        â”‚  metrics (Redis)      â”‚
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   events   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ Analytics  â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  Sync Worker â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6Â Â API Outline (OpenAPI 3.1 excerpt)

```yaml
/skills:
  get:
    summary: List skills
    parameters:
      - in: query
        name: level_min
        schema: { type: integer }
  post:
    summary: Create skill
/practice-sessions:
  post:
    summary: Log session
    requestBody:
      â€¦
```

---

## 7Â Â User Stories & Acceptance

| ID    | User Story                                                                           | Acceptance Criteria                                      |
| ----- | ------------------------------------------------------------------------------------ | -------------------------------------------------------- |
| USâ€‘01 | *As a learner* I can create a new subskill under â€œGuitarâ€                            | Node appears in both Mindâ€‘Map & Explorer; level 0; XPÂ 0. |
| USâ€‘07 | *As a learner* I receive a reminder when I have not practiced â€œVocabularyâ€ in 7Â days | Push sent; dashboard shows overdue badge.                |
| USâ€‘12 | *As a coach* I export my menteeâ€™s progress to CSV                                    | File downloads with columns: skill\_id, level, xp,â€¦      |

---

## 8Â Â Future Enhancements

* Adaptive difficulty (AI recommends easier/harder drills).
* Community shared skill templates marketplace.
* AR practice overlay for physical techniques.

---

> **Next Steps**: confirm domain model, then create DB schema & initial API stubs.

# Theory-Practice Node Combination

## Leveraging Existing Note System
- Note nodes already have quiz/test functionality
- Can be used for theoretical knowledge assessment
- Supports cloze deletions and flashcard review

## Node Type Combinations
```
Theory-Practice Stack
â”œâ”€â”€ Theory Node (ğŸ“š)
â”‚   â”œâ”€â”€ Uses existing Note functionality
â”‚   â”œâ”€â”€ Quiz/Test for knowledge verification
â”‚   â”œâ”€â”€ Cloze deletions for active recall
â”‚   â””â”€â”€ Flashcard review system
â”‚
â””â”€â”€ Practice Node (âš¡)
    â”œâ”€â”€ Concrete implementation
    â”œâ”€â”€ Timer tracking
    â”œâ”€â”€ Success rate
    â””â”€â”€ Real-world application

Example: React Hooks
â”œâ”€â”€ Theory (ğŸ“š)
â”‚   â”œâ”€â”€ Note: Hook rules and concepts
â”‚   â”œâ”€â”€ Quiz: When to use useEffect
â”‚   â””â”€â”€ Test: Hook behavior understanding
â”‚
â””â”€â”€ Practice (âš¡)
    â”œâ”€â”€ Implement custom hook
    â”œâ”€â”€ Solve hook-based problems
    â”œâ”€â”€ Track implementation time
    â””â”€â”€ Measure success rate
```

## Implementation Approach
1. **Mind Map Focus First**
   - Enhance existing process flow system
   - Add skill-specific badges and metrics
   - Integrate theory-practice node connections
   - Keep tree explorer as separate app

2. **Theory Node (Enhanced Note)**
   - Leverage existing note functionality
   - Add skill-specific metadata
   - Track quiz/test performance
   - Calculate theoretical understanding level

3. **Practice Node (Enhanced Task)**
   - Build on existing task timer system
   - Add success rate tracking
   - Include implementation metrics
   - Track real-world application

4. **Combined Metrics**
   - Theory mastery (quiz/test scores)
   - Practice proficiency (success rate)
   - Combined mastery level
   - More accurate skill assessment 
